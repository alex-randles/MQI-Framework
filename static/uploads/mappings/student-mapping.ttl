@prefix rr: <http://www.w3.org/ns/r2rml#> .
@prefix workouts: <http://data.virtualworkout.com/> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix owl:<http://www.w3.org/2002/07/owl#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .



<#CausesInjury>
    a rr:TripesMap ;

    rr:logicalTable [ rr:sqlQuery """SELECT name, body_part FROM PhysicalWorkoutCausesInjury INNER JOIN Workout on PhysicalWorkoutCausesInjury.workout_id = Workout.id""" ] ; 

    rr:subjectMap [
        rr:template "http://data.virtualworkout.com/{name}" ;
        rr:class workouts:Workout ;
    ] ;

    rr:predicateObjectMap [
        rr:predicate workouts:causesInjuries ;
        rr:objectMap [ rr:template "http://data.virtualworkout.com/{body_part}" ] ;
    ] ;

    .

